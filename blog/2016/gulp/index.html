<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/favicon.ico" />

    <title>gulp</title>
    <meta name="description" content="What is gulp?　　gulp 是前端开发过程中一种基于流的代码构建工具，是自动化项目的构建利器；她不仅能对网站资源进行优化，而且在开发过程中很多重复的任务能够使用正确的工具自动完成；使用她，不仅可以很愉快的编写代码，而且大大提高我们的工作效率。">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://ccppchen.github.io/blog/2016/gulp/">
    <link rel="alternate" type="application/rss+xml" title="首页" href="http://ccppchen.github.io/feed.xml" />
  </head>

  <body>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72424445-1', 'auto');
  ga('send', 'pageview');
</script>

    <main>
      <header class="site-header">
  <div class="container">
    <h1><a href="/"><span>首页</span></a></h1>

    <button type="button" class="sliding-panel-button">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="navbar sliding-panel-content">
      <ul>
        
          <li><a href="/blog" title="博客">博客</a></li>
        
          <li><a href="/archives" title="文章归档">文章归档</a></li>
        
          <li><a href="/about" title="关于我">关于我</a></li>
        
      </ul>
    </nav>
  </div>
</header>

<div class="sliding-panel-fade-screen"></div>


      <div class="container">
        <article role="article" class="post">

  <div class="card">
    <header class="post-header">
      <h1 class="post-title">gulp</h1>
      <p class="post-meta">2016年 5月 12日</p>
    </header>

    <div class="post-content">
      <h1 id="what-is-gulp">What is gulp?</h1>
<p>　　<code>gulp</code> 是前端开发过程中一种基于流的代码构建工具，是自动化项目的构建利器；她不仅能对网站资源进行优化，而且在开发过程中很多重复的任务能够使用正确的工具自动完成；使用她，不仅可以很愉快的编写代码，而且大大提高我们的工作效率。</p>

<p>　　<code>gulp</code>是基于<code>Nodejs</code>的自动任务运行器， 她能自动化地完成<code> javascript、coffee、sass、less、html/image、css</code> 等文件的测试、检查、合并、压缩、格式化、浏览器自动刷新、部署文件生成，并监听文件在改动后重复指定的这些步骤。在实现上，她借鉴了Unix操作系统的管道（pipe）思想，前一级的输出，直接变成后一级的输入，使得在操作上非常简单。
　　
<img src="/images/gulp_plugin.png" alt="gulp-plugin" /></p>

<h1 id="section">安装</h1>
<p>首先确保你已经正确安装了nodejs环境。然后以全局方式安装gulp：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">npm</span> <span class="n">install</span> <span class="o">-</span><span class="n">g</span> <span class="n">gulp</span></code></pre></figure>

<p>全局安装gulp后，还需要在每个要使用gulp的项目中都单独安装一次。把目录切换到你的项目文件夹中，然后在命令行中执行：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">npm</span> <span class="n">install</span> <span class="n">gulp</span></code></pre></figure>

<p>如果想在安装的时候把gulp写进项目package.json文件的依赖中，则可以加上–save-dev：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span><span class="o">-</span><span class="n">dev</span> <span class="n">gulp</span></code></pre></figure>

<p>**这样就完成了gulp的安装，接下来就可以在项目中应用gulp了。继续学习 **</p>

<h2 id="gulpfilejs">gulpfile.js</h2>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>
<span class="n">var</span> <span class="n">gulp</span>        <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="n">var</span> <span class="n">plugins</span>     <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp-load-plugins&#39;</span><span class="p">)();</span>
<span class="n">var</span> <span class="n">pkg</span>         <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;./package.json&quot;</span><span class="p">);</span>
<span class="n">var</span> <span class="n">browserSync</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;browser-sync&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">create</span><span class="p">();</span>

<span class="n">var</span> <span class="n">banner</span> <span class="o">=</span> 
<span class="s2">&quot;/** </span><span class="se">\n</span><span class="s2">\</span>
<span class="s2">* jQuery WeUI V&quot;</span> <span class="o">+</span> <span class="n">pkg</span><span class="o">.</span><span class="n">version</span> <span class="o">+</span> <span class="s2">&quot; </span><span class="se">\n</span><span class="s2">\</span>
<span class="s2">* By 野草</span><span class="se">\n</span><span class="s2">\</span>
<span class="s2">* http://ccppchen.github.io/jquery-weui/</span><span class="se">\n</span><span class="s2"> \</span>
<span class="s2">*/</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

<span class="sr">//</span> <span class="err">监测文件改动并自动刷新</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;server&#39;</span><span class="p">,</span> <span class="o">[</span><span class="s1">&#39;compass&#39;</span><span class="o">]</span><span class="p">,</span> <span class="n">function</span><span class="p">(){</span>
  <span class="n">browserSync</span><span class="o">.</span><span class="n">init</span><span class="p">({</span>
       <span class="ss">server</span><span class="p">:</span> <span class="p">{</span>
           <span class="ss">baseDir</span><span class="p">:</span> <span class="s2">&quot;./app&quot;</span>
       <span class="p">},</span>
       <span class="ss">port</span><span class="p">:</span> <span class="mi">8000</span>
   <span class="p">});</span>
<span class="p">});</span>

<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">(){</span>
  <span class="n">gulp</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="s2">&quot;sass/**/*.scss&quot;</span><span class="p">,</span> <span class="o">[</span><span class="s1">&#39;compass&#39;</span><span class="o">]</span><span class="p">);</span>
  <span class="n">gulp</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="o">[</span><span class="s2">&quot;app/*.html&quot;</span><span class="p">,</span> <span class="s2">&quot;app/styles/**/*.css&quot;</span><span class="p">,</span> <span class="s2">&quot;app/images/**/*&quot;</span><span class="o">]</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s1">&#39;change&#39;</span><span class="p">,</span> <span class="n">browserSync</span><span class="o">.</span><span class="n">reload</span><span class="p">);</span>
<span class="p">});</span>

<span class="sr">//</span> <span class="err">编译</span><span class="n">sass</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;compass&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s2">&quot;sass/**/*.scss&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">plugins</span><span class="o">.</span><span class="n">compass</span><span class="p">({</span>
      <span class="ss">config_file</span><span class="p">:</span> <span class="s1">&#39;./config.rb&#39;</span><span class="p">,</span>
      <span class="ss">css</span><span class="p">:</span> <span class="s1">&#39;app/styles&#39;</span><span class="p">,</span>
      <span class="ss">sass</span><span class="p">:</span> <span class="s1">&#39;sass&#39;</span>
    <span class="p">}))</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">plugins</span><span class="o">.</span><span class="n">autoprefixer</span><span class="p">())</span>
<span class="p">});</span>

<span class="sr">//</span> <span class="n">js</span><span class="err">合并压缩混淆</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;js&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">(){</span>
  <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="o">[</span>
      <span class="s1">&#39;&#39;</span>
    <span class="o">]</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">plugins</span><span class="o">.</span><span class="n">jshint</span><span class="p">())</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">jshint</span><span class="o">.</span><span class="n">reporter</span><span class="p">())</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">plugins</span><span class="o">.</span><span class="n">concat</span><span class="p">({</span> <span class="ss">path</span><span class="p">:</span> <span class="s1">&#39;main.js&#39;</span><span class="p">}))</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">plugins</span><span class="o">.</span><span class="n">uglify</span><span class="p">())</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">plugins</span><span class="o">.</span><span class="n">extReplace</span><span class="p">(</span><span class="s1">&#39;.min.js&#39;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">plugins</span><span class="o">.</span><span class="n">header</span><span class="p">(</span><span class="n">banner</span><span class="p">))</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s2">&quot;dist&quot;</span><span class="p">))</span>
<span class="p">});</span>

<span class="sr">//</span> <span class="n">html</span><span class="err">压缩</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;app/*.html&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">plugins</span><span class="o">.</span><span class="n">minifyHtml</span><span class="p">())</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">));</span>
<span class="p">});</span>

<span class="sr">//</span> <span class="n">image</span><span class="err">压缩</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;app/images/**/*&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">plugins</span><span class="o">.</span><span class="n">imagemin</span><span class="p">({</span>
        <span class="ss">progressive</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
        <span class="ss">use</span><span class="p">:</span> <span class="o">[</span><span class="n">plugins</span><span class="o">.</span><span class="n">imageminPngquant</span><span class="p">()</span><span class="o">]</span>
    <span class="p">}))</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;dist/images&#39;</span><span class="p">));</span>
<span class="p">});</span>


<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="o">[</span><span class="s1">&#39;compass&#39;</span><span class="p">,</span> <span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="s1">&#39;server&#39;</span><span class="o">]</span><span class="p">);</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;build&#39;</span><span class="p">,</span> <span class="o">[</span><span class="s1">&#39;compass&#39;</span><span class="p">,</span> <span class="s1">&#39;js&#39;</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="s1">&#39;images&#39;</span><span class="p">,</span> <span class="s1">&#39;server&#39;</span><span class="o">]</span><span class="p">);</span></code></pre></figure>

<h1 id="gulp">gulp的使用</h1>

<ol>
  <li>建立gulpfile.js文件</li>
</ol>

<p><code>gulp</code>也需要一个文件作为它的主文件，在<code>gulp</code>中这个文件叫做<code>gulpfile.js</code>。新建一个文件名为gulpfile.js的文件，然后放到你的项目目录中。之后要做的事情就是在<code>gulpfile.js</code>文件中定义我们的任务了。下面是一个最简单的<code>gulpfile.js</code>文件内容示例，它定义了一个默认的任务。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span><span class="n">function</span><span class="p">(){</span>
    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">);</span>
<span class="p">});</span></code></pre></figure>

<p>2.运行<code>gulp</code>任务</p>

<p>要运行gulp任务，只需切换到存放gulpfile.js文件的目录(windows平台请使用cmd或者Power Shell等命令行工具)，然后在命令行中执行gulp命令就行了，gulp后面可以加上要执行的任务名，例如<code>gulp task1</code>，如果没有指定任务名，则会执行任务名为default的默认任务。</p>

<h1 id="gulp-api">gulp API</h1>
<ol>
  <li>gulp.src([‘src1’,’src2’])  获取到想要处理的文件流</li>
  <li>gulp.task(‘server’,function(){ … } ) 或者gulp.task(‘server’, [‘task1’,’task2’]) 注册任务</li>
  <li>gulp.dest(‘dest’) 把流中的内容写入到文件中</li>
  <li>gulp.watch(‘src’, [‘task1’,’task2’]) 实时监测文件变动</li>
  <li>gulp.run(‘task1’,’task2’,’task3’)  运行任务，<strong>并行运行</strong></li>
  <li>gulp.pipe(minify()) 导入到<code>gulp</code>的插件中</li>
</ol>

<h1 id="js">js文件压缩</h1>
<p><code>gulp-uglify</code>插件用来压缩js文件。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">),</span>
    <span class="n">uglify</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;gulp-uglify&quot;</span><span class="p">);</span>
 
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;minify-js&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;src/*.js&#39;</span><span class="p">)</span>          <span class="sr">//</span> <span class="err">要压缩的</span><span class="n">js</span><span class="err">文件</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">uglify</span><span class="p">())</span>              <span class="sr">//</span><span class="err">使用</span><span class="n">uglify</span><span class="err">进行压缩</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;dist/js&#39;</span><span class="p">));</span> <span class="sr">//</span><span class="err">压缩后的路径</span>
<span class="p">});</span></code></pre></figure>

<h1 id="css">css文件压缩</h1>
<p><code>gulp-minify-css</code>插件用来压缩css文件。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">),</span>
    <span class="n">minifyCss</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;gulp-minify-css&quot;</span><span class="p">);</span>
 
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;minify-css&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;src/*.css&#39;</span><span class="p">)</span> <span class="sr">//</span> <span class="err">要压缩的</span><span class="n">css</span><span class="err">文件</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">minifyCss</span><span class="p">())</span>    <span class="sr">//</span><span class="err">压缩</span><span class="n">css</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;dist/css&#39;</span><span class="p">));</span>
<span class="p">});</span></code></pre></figure>

<h1 id="html">html文件压缩</h1>
<p><code>gulp-minify-html</code>插件用来压缩html文件。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">),</span>
    <span class="n">minifyHtml</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;gulp-minify-html&quot;</span><span class="p">);</span>
 
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;minify-html&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;src/*.html&#39;</span><span class="p">)</span> <span class="sr">//</span> <span class="err">要压缩的</span><span class="n">html</span><span class="err">文件</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">minifyHtml</span><span class="p">())</span>    <span class="sr">//</span><span class="err">压缩</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;dist/html&#39;</span><span class="p">));</span>
<span class="p">});</span></code></pre></figure>

<h1 id="js-1">js代码检查</h1>
<p><code>gulp-jshint</code>插件，用来检查js代码。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">),</span>
    <span class="n">jshint</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;gulp-jshint&quot;</span><span class="p">);</span>
 
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;jsLint&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;src/*.js&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">jshint</span><span class="p">())</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">jshint</span><span class="o">.</span><span class="n">reporter</span><span class="p">());</span> <span class="sr">//</span> <span class="err">输出检查结果</span>
<span class="p">});</span>
<span class="p">});</span></code></pre></figure>

<h1 id="js-2">js代码压缩混淆</h1>
<p><code>gulp-uglify</code></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;uglify&#39;</span><span class="p">,</span> <span class="o">[</span><span class="s2">&quot;js&quot;</span><span class="o">]</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="o">[</span><span class="s1">&#39;./dist/js/*.js&#39;</span><span class="p">,</span> <span class="s1">&#39;!./dist/js/*.min.js&#39;</span><span class="o">]</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">uglify</span><span class="p">({</span>
      <span class="ss">preserveComments</span><span class="p">:</span> <span class="s2">&quot;license&quot;</span>
    <span class="p">}))</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">ext_replace</span><span class="p">(</span><span class="s1">&#39;.min.js&#39;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;./dist/js&#39;</span><span class="p">));</span>
<span class="p">});</span></code></pre></figure>

<h1 id="section-1">文件合并</h1>
<p><code>gulp-concat</code>插件，用来把多个文件合并为一个文件,我们可以用它来合并js或css文件等。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">),</span>
    <span class="n">concat</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;gulp-concat&quot;</span><span class="p">);</span>
    
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;concat&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;src/*.js&#39;</span><span class="p">)</span>     <span class="sr">//</span><span class="err">要合并的文件</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">concat</span><span class="p">(</span><span class="s1">&#39;all.js&#39;</span><span class="p">))</span>  <span class="sr">//</span> <span class="err">合并匹配到的</span><span class="n">js</span><span class="err">文件并命名为</span> <span class="s2">&quot;all.js&quot;</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;dist/js&#39;</span><span class="p">));</span>
<span class="p">});</span></code></pre></figure>

<h1 id="section-2">图片压缩</h1>
<p><code>gulp-imagemin</code>插件来压缩jpg、png、gif等图片。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="n">var</span> <span class="n">imagemin</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp-imagemin&#39;</span><span class="p">);</span>
<span class="n">var</span> <span class="n">pngquant</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;imagemin-pngquant&#39;</span><span class="p">);</span> <span class="sr">//</span><span class="n">png</span><span class="err">图片压缩插件</span>

<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;src/images/*&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">imagemin</span><span class="p">({</span>
        <span class="ss">progressive</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
        <span class="ss">use</span><span class="p">:</span> <span class="o">[</span><span class="n">pngquant</span><span class="p">()</span><span class="o">]</span> <span class="sr">//</span><span class="err">使用</span><span class="n">pngquant</span><span class="err">来压缩</span><span class="n">png</span><span class="err">图片</span>
    <span class="p">}))</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">));</span>
<span class="p">});</span></code></pre></figure>

<h1 id="section-3">自动刷新</h1>
<p><code>gulp-livereload</code>插件，当代码变化时，它可以帮我们自动刷新页面。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">),</span>
    <span class="n">less</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp-less&#39;</span><span class="p">),</span>
    <span class="n">livereload</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp-livereload&#39;</span><span class="p">);</span>
    
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;less&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;less/*.less&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">less</span><span class="p">())</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">livereload</span><span class="p">());</span>
<span class="p">});</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">livereload</span><span class="o">.</span><span class="n">listen</span><span class="p">();</span> <span class="sr">//</span><span class="err">要在这里调用</span><span class="n">listen</span><span class="p">()</span><span class="err">方法</span>
  <span class="n">gulp</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="s1">&#39;less/*.less&#39;</span><span class="p">,</span> <span class="o">[</span><span class="s1">&#39;less&#39;</span><span class="o">]</span><span class="p">);</span>
<span class="p">});</span></code></pre></figure>

<h1 id="section-4">启服务</h1>
<p><code>gulp-connect</code>这个插件是启一个web服务器</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;server&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">connect</span><span class="o">.</span><span class="n">server</span><span class="p">();</span>
<span class="p">});</span></code></pre></figure>

<h1 id="section-5">重命名</h1>
<p><code>gulp-rename</code>插件，给文件重新命名</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;minifyjs&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;src/*.js&#39;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">concat</span><span class="p">(</span><span class="s1">&#39;main.js&#39;</span><span class="p">))</span>                  <span class="sr">//</span><span class="err">合并所有</span><span class="n">js</span><span class="err">到</span><span class="n">main</span><span class="o">.</span><span class="n">js</span>
        <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;minified/js&#39;</span><span class="p">))</span>           <span class="sr">//</span><span class="err">输出</span><span class="n">main</span><span class="o">.</span><span class="n">js</span><span class="err">到文件夹</span>
        <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">rename</span><span class="p">({</span><span class="ss">suffix</span><span class="p">:</span> <span class="s1">&#39;.min&#39;</span><span class="p">}))</span>           <span class="sr">//</span><span class="n">rename</span><span class="err">压缩后的文件名</span>
        <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">uglify</span><span class="p">())</span>                           <span class="sr">//</span><span class="err">压缩</span>
        <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;minified/js&#39;</span><span class="p">));</span>          <span class="sr">//</span><span class="err">输出</span>
<span class="p">});</span></code></pre></figure>

<h1 id="section-6">改变文件的扩展名</h1>
<p><code>gulp-ext-replace</code>这个插件可以改变文件扩展名</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;change&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;styles/*.css&#39;</span><span class="p">)</span>
      <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">ext_replace</span><span class="p">(</span><span class="s1">&#39;.min.css&#39;</span><span class="p">))</span>
      <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">))</span>
<span class="p">});</span></code></pre></figure>

<h1 id="section-7">删除</h1>
<p><code>del</code>插件，删除文件</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;clean&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">(</span><span class="n">cb</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">del</span><span class="p">(</span><span class="o">[</span><span class="s1">&#39;minified/css&#39;</span><span class="p">,</span> <span class="s1">&#39;minified/js&#39;</span><span class="o">]</span><span class="p">,</span> <span class="n">cb</span><span class="p">)</span>
<span class="p">});</span></code></pre></figure>

<h1 id="gulp-1">自动加载gulp插件</h1>
<p><code>gulp-load-plugins</code>这个插件能自动帮你加载<code>package.json</code>文件里的gulp插件</p>

<p>package.json</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">{</span>
  <span class="s2">&quot;devDependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;gulp&quot;</span><span class="p">:</span> <span class="s2">&quot;~3.6.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gulp-rename&quot;</span><span class="p">:</span> <span class="s2">&quot;~1.2.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gulp-ruby-sass&quot;</span><span class="p">:</span> <span class="s2">&quot;~0.4.3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gulp-load-plugins&quot;</span><span class="p">:</span> <span class="s2">&quot;~0.5.1&quot;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>gulpfile.js</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="sr">//</span><span class="err">加载</span><span class="n">gulp</span><span class="o">-</span><span class="nb">load</span><span class="o">-</span><span class="n">plugins</span><span class="err">插件，并马上运行它</span>
<span class="n">var</span> <span class="n">plugins</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp-load-plugins&#39;</span><span class="p">)();</span>

<span class="n">plugins</span><span class="o">.</span><span class="n">rename</span>  
<span class="n">plugins</span><span class="o">.</span><span class="n">rubySass</span></code></pre></figure>

<h1 id="section-8">文件头部注释</h1>
<p><code>gulp-header</code> 这个插件是给文件头部加上自定义注释内容的</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">header</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp-header&#39;</span><span class="p">);</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;less&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="o">[</span><span class="s1">&#39;./src/less/jquery-weui.less&#39;</span><span class="o">]</span><span class="p">)</span>
  <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">less</span><span class="p">())</span>
  <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">autoprefixer</span><span class="p">())</span>
  <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">header</span><span class="p">(</span><span class="n">banner</span><span class="p">))</span> <span class="sr">//</span><span class="err">加上头部注释</span>
  <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;./dist/css/&#39;</span><span class="p">));</span>
<span class="p">});</span></code></pre></figure>

<h1 id="css3">自动加上css3浏览器前缀</h1>
<p><code>gulp-autoprefixer</code>这个插件会自动加上css3浏览器前缀</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">header</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp-header&#39;</span><span class="p">);</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;less&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="o">[</span><span class="s1">&#39;./src/less/jquery-weui.less&#39;</span><span class="o">]</span><span class="p">)</span>
  <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">less</span><span class="p">())</span>
  <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">autoprefixer</span><span class="p">())</span> <span class="sr">//</span><span class="err">自动加上浏览器前缀</span>
  <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">header</span><span class="p">(</span><span class="n">banner</span><span class="p">))</span>
  <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;./dist/css/&#39;</span><span class="p">));</span>
<span class="p">});</span></code></pre></figure>

<h1 id="sass">sass</h1>
<p><code>gulp-sass</code>是自动编译sass的插件</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span>        <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="n">var</span> <span class="n">browserSync</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;browser-sync&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">create</span><span class="p">();</span>
<span class="n">var</span> <span class="n">sass</span>        <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp-sass&#39;</span><span class="p">);</span>

<span class="sr">//</span> <span class="no">Static</span> <span class="no">Server</span> <span class="o">+</span> <span class="n">watching</span> <span class="n">scss</span><span class="o">/</span><span class="n">html</span> <span class="n">files</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;serve&#39;</span><span class="p">,</span> <span class="o">[</span><span class="s1">&#39;sass&#39;</span><span class="o">]</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="n">browserSync</span><span class="o">.</span><span class="n">init</span><span class="p">({</span>
        <span class="ss">server</span><span class="p">:</span> <span class="s2">&quot;./app&quot;</span>
    <span class="p">});</span>

    <span class="n">gulp</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="s2">&quot;app/scss/*.scss&quot;</span><span class="p">,</span> <span class="o">[</span><span class="s1">&#39;sass&#39;</span><span class="o">]</span><span class="p">);</span>
    <span class="n">gulp</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="s2">&quot;app/*.html&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s1">&#39;change&#39;</span><span class="p">,</span> <span class="n">browserSync</span><span class="o">.</span><span class="n">reload</span><span class="p">);</span>
<span class="p">});</span>

<span class="sr">//</span> <span class="no">Compile</span> <span class="n">sass</span> <span class="n">into</span> <span class="no">CSS</span> <span class="o">&amp;</span> <span class="n">auto</span><span class="o">-</span><span class="n">inject</span> <span class="n">into</span> <span class="n">browsers</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;sass&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s2">&quot;app/scss/*.scss&quot;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">sass</span><span class="p">())</span>
        <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s2">&quot;app/css&quot;</span><span class="p">))</span>
        <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">browserSync</span><span class="o">.</span><span class="n">stream</span><span class="p">());</span>
<span class="p">});</span>

<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="o">[</span><span class="s1">&#39;serve&#39;</span><span class="o">]</span><span class="p">);</span></code></pre></figure>

<h1 id="compass">compass</h1>
<p><code>gulp-compass</code></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">compass</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp-compass&#39;</span><span class="p">);</span>
 
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;compass&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">gulp</span><span class="o">.</span><span class="n">src</span><span class="p">(</span><span class="s1">&#39;./src/*.scss&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">compass</span><span class="p">({</span>
      <span class="ss">config_file</span><span class="p">:</span> <span class="s1">&#39;./config.rb&#39;</span><span class="p">,</span>
      <span class="ss">css</span><span class="p">:</span> <span class="s1">&#39;stylesheets&#39;</span><span class="p">,</span>
      <span class="ss">sass</span><span class="p">:</span> <span class="s1">&#39;sass&#39;</span>
    <span class="p">}))</span>
    <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">gulp</span><span class="o">.</span><span class="n">dest</span><span class="p">(</span><span class="s1">&#39;app/assets/temp&#39;</span><span class="p">));</span>
<span class="p">});</span></code></pre></figure>

<h1 id="section-9">浏览器自动刷新</h1>
<p><code>browser-sync</code> 浏览器自动刷新</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">var</span> <span class="n">gulp</span>        <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="n">var</span> <span class="n">browserSync</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;browser-sync&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">create</span><span class="p">();</span>
<span class="n">var</span> <span class="n">reload</span>      <span class="o">=</span> <span class="n">browserSync</span><span class="o">.</span><span class="n">reload</span><span class="p">;</span>

<span class="sr">//</span> <span class="no">Save</span> <span class="n">a</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">the</span> <span class="sb">`reload`</span> <span class="nb">method</span>

<span class="sr">//</span> <span class="no">Watch</span> <span class="n">scss</span> <span class="no">AND</span> <span class="n">html</span> <span class="n">files</span><span class="p">,</span> <span class="n">doing</span> <span class="n">different</span> <span class="n">things</span> <span class="n">with</span> <span class="n">each</span><span class="o">.</span>
<span class="n">gulp</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="s1">&#39;serve&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="sr">//</span> <span class="no">Serve</span> <span class="n">files</span> <span class="n">from</span> <span class="n">the</span> <span class="n">root</span> <span class="n">of</span> <span class="n">this</span> <span class="n">project</span>
    <span class="n">browserSync</span><span class="o">.</span><span class="n">init</span><span class="p">({</span>
        <span class="ss">server</span><span class="p">:</span> <span class="p">{</span>
            <span class="ss">baseDir</span><span class="p">:</span> <span class="s2">&quot;./&quot;</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="n">gulp</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="s2">&quot;*.html&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;change&quot;</span><span class="p">,</span> <span class="n">reload</span><span class="p">);</span>
<span class="p">});</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">npm</span> <span class="n">install</span> <span class="o">--</span><span class="n">save</span><span class="o">-</span><span class="n">dev</span> <span class="n">gulp</span> <span class="n">gulp</span><span class="o">-</span><span class="n">clean</span><span class="o">-</span><span class="n">css</span> <span class="n">gulp</span><span class="o">-</span><span class="n">minify</span><span class="o">-</span><span class="n">html</span> <span class="n">gulp</span><span class="o">-</span><span class="n">jshint</span> <span class="n">gulp</span><span class="o">-</span><span class="n">uglify</span> <span class="n">gulp</span><span class="o">-</span><span class="n">concat</span> <span class="n">gulp</span><span class="o">-</span><span class="n">imagemin</span> <span class="n">gulp</span><span class="o">-</span><span class="n">rename</span> <span class="n">gulp</span><span class="o">-</span><span class="nb">load</span><span class="o">-</span><span class="n">plugins</span> <span class="n">gulp</span><span class="o">-</span><span class="n">header</span> <span class="n">gulp</span><span class="o">-</span><span class="n">autoprefixer</span> <span class="n">gulp</span><span class="o">-</span><span class="n">compass</span> <span class="n">browser</span><span class="o">-</span><span class="n">sync</span></code></pre></figure>

    </div>

    
<hr>

<aside id="comments" class="disqus">
  <div class="container">
    <h3><i class="icon icon-comments-o"></i> Comments</h3>
    <div id="disqus_thread"></div>
    <script>
      var disqus_config = function() {
        this.page.url = 'http://ccppchen.github.io';
        this.page.identifier = '/blog/2016/gulp';
      };
      (function() {
        var d = document,
        s = d.createElement('script');
        s.src = '//ccppchen.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</aside>

  </div>

</article>

      </div>

      <footer class="site-footer">
  <div class="container">
    <ul class="social">
  <li><a href="http://github.com/ccppchen" target="_blank"><i class="icon icon-github"></i></a></li>
  <li><a href="http://twitter.com/ccpp20142" target="_blank"><i class="icon icon-twitter"></i></a></li>
  <li><a href="http://facebook.com/peng.chen.73700136" target="_blank"><i class="icon icon-facebook"></i></a></li>
  <li><a href="http://linkedin.com/in/鹏-陈-77057410a" target="_blank"><i class="icon icon-linkedin"></i></a></li>
</ul>
    <p class="txt-medium-gray">
      <small>&copy;2016 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
</footer>


      <a href="https://github.com/ccppchen/ccppchen.github.io" target="_blank" class="github-corner"><svg width="60" height="60" viewBox="0 0 250 250" style="fill:#337ab7; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

      <script type="text/javascript" src="/assets/jquery/dist/jquery.min.js"></script>
      <script>
      $(document).ready(function() {
        $('.sliding-panel-button,.sliding-panel-fade-screen,.sliding-panel-close').on('click touchstart',function (e) {
          $('.sliding-panel-content,.sliding-panel-fade-screen').toggleClass('is-visible');
          e.preventDefault();
        });
      });
      </script>
    </main>
  </body>
</html>
